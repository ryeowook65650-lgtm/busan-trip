<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BUSAN DAY 2</title>
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    
    <style>
        :root {
            /* æŒ‡å®šçš„é«˜ç´šé…è‰² */
            --cyan: #00B9E7;      /* äº®å¤©è— (Highlight) */
            --navy: #002F7B;      /* æ·±è— (Primary Text/Bg) */
            --gold: #F8B62D;      /* é‡‘é»ƒ (Accent) */
            --pink: #EE86A8;      /* ç²‰ç´… (Soft Highlight) */

            --bg-body: #F4F6F9;   /* å†·ç°ç™½èƒŒæ™¯ */
            --bg-card: #FFFFFF;
            --text-main: #1A1A1A;
            --text-sub: #8E8E93;
            --border-light: #E5E5EA;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            margin: 0; padding: 0; 
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-body); color: var(--text-main);
            padding-bottom: 120px;
            letter-spacing: -0.02em; /* ç·Šæ¹Šçš„ç¾ä»£å­—é«”æ„Ÿ */
        }

        /* --- æ‘©ç™»é ‚éƒ¨å°è¦½ (æ¯›ç»ç’ƒ) --- */
        .header {
            position: sticky; top: 0; z-index: 100;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex; justify-content: space-between; align-items: center;
        }
        .header-title {
            font-size: 20px; font-weight: 800; color: var(--navy);
            letter-spacing: 0.5px; text-transform: uppercase;
        }
        .header-date {
            font-size: 12px; color: var(--cyan); font-weight: 600; letter-spacing: 1px;
        }
        .weather-link {
            font-size: 12px; color: var(--text-sub); text-decoration: none;
            display: flex; align-items: center; gap: 5px; font-weight: 500;
            background: #F2F2F7; padding: 6px 12px; border-radius: 20px;
        }

        main { padding: 24px 20px; max-width: 600px; margin: 0 auto; }

        /* --- è¡Œç¨‹æ™‚é–“è»¸è¨­è¨ˆ --- */
        .timeline-label {
            font-size: 12px; font-weight: 700; color: var(--text-sub);
            margin: 30px 0 10px 5px; text-transform: uppercase; letter-spacing: 1px;
            display: flex; align-items: center; gap: 8px;
        }
        .timeline-label::before {
            content: ''; width: 8px; height: 8px; background: var(--cyan);
            border-radius: 50%;
        }

        /* --- è³ªæ„Ÿå¡ç‰‡ --- */
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px -10px rgba(0, 47, 123, 0.08); /* æ·±è—è‰²ç³»çš„æŸ”å’Œé™°å½± */
            border: 1px solid rgba(255,255,255,0.5);
            position: relative; overflow: hidden;
        }
        /* å·¦å´è£é£¾æ¢ (å–ä»£åŸæœ¬ç²—é‚Šæ¡†) */
        .card::before {
            content: ''; position: absolute; left: 0; top: 0; bottom: 0;
            width: 4px; background: linear-gradient(to bottom, var(--navy), var(--cyan));
        }

        .card-time {
            font-size: 13px; font-weight: 700; color: var(--cyan);
            margin-bottom: 8px; display: block; letter-spacing: 0.5px;
        }
        .card-title {
            font-size: 20px; font-weight: 800; color: var(--navy);
            margin-bottom: 16px; line-height: 1.3;
        }

        /* è³‡è¨Šç¶²æ ¼ */
        .info-grid { display: grid; grid-template-columns: 30px 1fr; gap: 8px 12px; margin-bottom: 16px; }
        .info-icon { color: var(--text-sub); font-size: 14px; text-align: center; }
        .info-text { font-size: 14px; color: var(--text-main); line-height: 1.6; }
        .info-sub { font-size: 13px; color: var(--text-sub); margin-top: 2px; }

        /* æ‘©ç™»æ¨™ç±¤ Pill */
        .pill {
            display: inline-flex; align-items: center; padding: 4px 10px;
            border-radius: 6px; font-size: 12px; font-weight: 600;
            margin-right: 6px; letter-spacing: 0.3px;
        }
        .pill-gold { background: rgba(248, 182, 45, 0.15); color: #B48008; }
        .pill-gray { background: #F2F2F7; color: var(--text-sub); }
        .pill-cyan { background: rgba(0, 185, 231, 0.1); color: var(--navy); }

        /* Naver Map æŒ‰éˆ• (è³ªæ„Ÿé¢¨) */
        .naver-btn {
            display: flex; align-items: center; justify-content: center; gap: 8px;
            width: 100%; padding: 14px;
            background: var(--navy); color: white;
            border-radius: 12px; text-decoration: none;
            font-size: 14px; font-weight: 600;
            margin-top: 10px;
            box-shadow: 0 4px 12px rgba(0, 47, 123, 0.2);
            transition: transform 0.2s;
        }
        .naver-btn:active { transform: scale(0.98); }
        .naver-btn span { font-weight: 300; opacity: 0.8; font-size: 12px; }

        .link-text {
            display: inline-block; margin-top: 12px; font-size: 13px;
            color: var(--cyan); text-decoration: none; font-weight: 500;
            border-bottom: 1px solid transparent;
        }

        /* --- è¨˜å¸³å€å¡Š (è²¡å‹™å ±è¡¨é¢¨) --- */
        .accounting-wrapper {
            background: white; border-radius: 20px; padding: 24px;
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.1);
        }
        .acc-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px; padding-bottom: 15px;
            border-bottom: 1px solid var(--border-light);
        }
        .acc-title { font-size: 18px; font-weight: 800; color: var(--navy); }
        .rate-badge {
            font-size: 11px; background: var(--bg-body); color: var(--text-sub);
            padding: 4px 8px; border-radius: 4px; font-weight: 600;
        }

        /* è¼¸å…¥æ¡†çµ„ */
        .input-row { display: flex; gap: 10px; margin-bottom: 12px; }
        .modern-input {
            width: 100%; padding: 12px; border: 1px solid var(--border-light);
            border-radius: 10px; font-size: 15px; background: #FAFAFA;
            color: var(--text-main); outline: none; transition: 0.2s;
        }
        .modern-input:focus { border-color: var(--cyan); background: white; }
        .modern-select { flex: 0.6; }

        .add-btn {
            width: 100%; background: var(--cyan); color: white;
            padding: 14px; border-radius: 10px; border: none;
            font-size: 15px; font-weight: 700; cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 185, 231, 0.3);
        }

        /* åˆ—è¡¨ */
        .expense-list { margin-top: 20px; max-height: 300px; overflow-y: auto; }
        .expense-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid var(--border-light);
        }
        .item-main { font-weight: 600; font-size: 15px; color: var(--text-main); }
        .item-sub { font-size: 12px; color: var(--text-sub); margin-top: 2px; }
        .price-krw { font-weight: 700; color: var(--navy); }
        .price-twd { font-size: 12px; color: var(--pink); text-align: right; }
        .del-btn { color: #CCC; background: none; border: none; padding: 0 0 0 10px; font-size: 18px; }

        /* ç¸½è¨ˆå¡ç‰‡ */
        .total-card {
            background: var(--navy); color: white;
            border-radius: 12px; padding: 20px; margin-top: 20px;
            position: relative; overflow: hidden;
        }
        .total-card::after {
            content: ''; position: absolute; right: -20px; top: -20px;
            width: 80px; height: 80px; background: var(--cyan);
            border-radius: 50%; opacity: 0.2; blur: 20px;
        }
        .total-label { font-size: 12px; opacity: 0.7; letter-spacing: 1px; text-transform: uppercase; }
        .total-krw { font-size: 28px; font-weight: 800; margin: 5px 0; letter-spacing: -0.5px; }
        .total-twd { font-size: 14px; color: var(--gold); font-weight: 600; }

    </style>
</head>
<body>

    <header class="header">
        <div>
            <div class="header-title">BUSAN</div>
            <div class="header-date">DAY 2 â€¢ 3/6 (FRI)</div>
        </div>
        <a href="https://www.google.com/search?q=é‡œå±±+å¤©æ°£" target="_blank" class="weather-link">
            <span>20Â°C ğŸŒ¤ï¸</span>
        </a>
    </header>

    <main>
        
        <div class="timeline-label">MORNING</div>

        <div class="card">
            <span class="card-time">09:00 - 11:00</span>
            <div class="card-title">ç”˜å·æ´æ–‡åŒ–æ‘</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì‚¬í•˜êµ¬ ê°ë‚´2ë¡œ 203</div>
                
                <div class="info-icon">ğŸš•</div>
                <div class="info-text">
                    <span class="pill pill-gold">è¨ˆç¨‹è»Š</span> ç´„ 15 åˆ†é˜<br>
                    <span class="info-sub">è²»ç”¨ï¼šâ‚©6,600</span>
                </div>
            </div>
            <a href="https://tsnio.com/gamcheon-culture-village/" target="_blank" class="link-text">READ MORE â†’</a>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%82%AC%ED%95%98%EA%B5%AC%20%EA%B0%90%EB%82%B42%EB%A1%9C%20203" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="timeline-label">LUNCH</div>

        <div class="card">
            <span class="card-time">11:00 - 12:00</span>
            <div class="card-title">å¯†é™½å®¶è±¬è‚‰æ¹¯é£¯</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘êµ¬ë¡œ47ë²ˆê¸¸ 35</div>
                
                <div class="info-icon">ğŸš•</div>
                <div class="info-text">
                    <span class="pill pill-gold">è¨ˆç¨‹è»Š</span> ç´„ 8 åˆ†é˜<br>
                    <span class="info-sub">è²»ç”¨ï¼šâ‚©5,200</span>
                </div>

                <div class="info-icon">â˜…</div>
                <div class="info-text">è©•åƒ¹ 4.25 (æ¨è–¦è±¬è‚‰æ¹¯é£¯)</div>
            </div>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EC%A4%91%EA%B5%AC%EB%A1%9C47%EB%B2%88%EA%B8%B8%2035" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="timeline-label">AFTERNOON</div>

        <div class="card">
            <span class="card-time">12:00 - 15:00</span>
            <div class="card-title">å¸‚å ´å·¡ç¦®</div>
            
            <div style="margin-bottom: 20px;">
                <div style="font-weight:700; margin-bottom:4px;">1. å¯Œå¹³ç½é ­å¸‚å ´</div>
                <div class="info-sub" style="margin-bottom:8px;">æ­¥è¡Œ 1 åˆ†é˜ â€¢ ë¶€ì‚° ì¤‘êµ¬ ë¶€í‰1ê¸¸ 48</div>
                <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EB%B6%80%ED%8F%891%EA%B8%B8%2048" target="_blank" class="link-text" style="font-size:12px;">NAVER MAP â†—</a>
            </div>

            <div style="margin-bottom: 20px;">
                <div style="font-weight:700; margin-bottom:4px;">2. åœ‹éš›å¸‚å ´ <span style="font-size:11px; color:var(--pink);">(å¾ˆå¤šäººè²·æ£‰è¢«)</span></div>
                <div class="info-sub" style="margin-bottom:8px;">æ­¥è¡Œ 1 åˆ†é˜ â€¢ ë¶€ì‚° ì¤‘êµ¬ ì‹ ì°½ë™4ê°€</div>
                <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EC%8B%A0%EC%B0%BD%EB%8F%994%EA%B0%80" target="_blank" class="link-text" style="font-size:12px;">NAVER MAP â†—</a>
            </div>

            <div>
                <div style="font-weight:700; margin-bottom:4px;">3. é˜¿é‡Œéƒè¡—</div>
                <div class="info-sub" style="margin-bottom:8px;">æ­¥è¡Œ 1 åˆ†é˜ â€¢ ë¶€ì‚° ì¤‘êµ¬ ê´‘ë³µë¡œ35ë²ˆê¸¸ 11</div>
                <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EA%B4%91%EB%B3%B5%EB%A1%9C35%EB%B2%88%EA%B8%B8%2011" target="_blank" class="link-text" style="font-size:12px;">NAVER MAP â†—</a>
            </div>
        </div>

        <div class="card">
            <span class="card-time">15:00 - 16:00</span>
            <div class="card-title">ç™½æ·ºç˜æ–‡åŒ–æ‘</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì˜ë„êµ¬ ì˜ì„ ë™4ê°€ 605-3</div>
                
                <div class="info-icon">ğŸš•</div>
                <div class="info-text">
                    <span class="pill pill-gold">è¨ˆç¨‹è»Š</span> ç´„ 15 åˆ†é˜<br>
                    <span class="info-sub">è²»ç”¨ï¼šâ‚©6,500</span>
                </div>
            </div>
            <a href="https://tsnio.com/huinnyeoul-culture-village/" target="_blank" class="link-text">READ MORE â†’</a>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%98%81%EB%8F%84%EA%B5%AC%20%EC%98%81%EC%84%A0%EB%8F%994%EA%B0%80%20605-3" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="timeline-label">EVENING</div>

        <div class="card">
            <span class="card-time">16:00 - 18:00</span>
            <div class="card-title">æ™šé¤ï¼šå—æµ¦æ’éª¨çƒ¤è‚‰</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì¤‘êµ¬ ë‚¨í¬ê¸¸ 40-2 1ì¸µ</div>
                
                <div class="info-icon">ğŸšŒ</div>
                <div class="info-text">
                    <span class="pill pill-cyan">å…¬è»Š</span> 6è™Ÿ / 9è™Ÿ<br>
                    <span class="info-sub">í°ì—¬ìš¸ë¬¸í™”ë§ˆì„ â” ë‚¨í¬ë™ (â‚©1,500)</span>
                </div>
            </div>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EB%82%A8%ED%8F%AC%EA%B8%B8%2040-2" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="card">
            <span class="card-time">18:00 - 20:00</span>
            <div class="card-title">æ¨‚å¤©ç™¾è²¨å…‰å¾©åº— (è²·è‰è“)</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 2 , 1ì¸µ</div>
                
                <div class="info-icon">ğŸš¶</div>
                <div class="info-text">
                    <span class="pill pill-gray">æ­¥è¡Œ</span> ç´„ 6 åˆ†é˜
                </div>
            </div>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EC%A4%91%EC%95%99%EB%8C%80%EB%A1%9C%202" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="card">
            <span class="card-time">20:00 -</span>
            <div class="card-title">å›é£¯åº— (ç”˜å·æ–‡åŒ–æ‘)</div>
            <div class="info-grid">
                <div class="info-icon">ğŸ“</div>
                <div class="info-text">ë¶€ì‚° ì‚¬í•˜êµ¬ ê°ë‚´2ë¡œ 203</div>
                
                <div class="info-icon">ğŸš¶</div>
                <div class="info-text">
                    <span class="pill pill-gray">æ­¥è¡Œ</span> ç´„ 20 åˆ†é˜
                </div>
            </div>
            <a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%82%AC%ED%95%98%EA%B5%AC%20%EA%B0%90%EB%82%B42%EB%A1%9C%20203" target="_blank" class="naver-btn">
                é–‹å•Ÿ NAVER Map <span>â†—</span>
            </a>
        </div>

        <div class="timeline-label">EXPENSES</div>
        
        <div class="accounting-wrapper">
            <div class="acc-header">
                <div class="acc-title">è¨˜å¸³æœ¬</div>
                <div id="rate-display" class="rate-badge">è®€å–åŒ¯ç‡ä¸­...</div>
            </div>

            <div class="input-row">
                <input type="text" id="item-name" class="modern-input" placeholder="é …ç›® (å¦‚:è¨ˆç¨‹è»Š)">
                <select id="item-cat" class="modern-input modern-select">
                    <option value="äº¤é€š">ğŸš•</option>
                    <option value="é£Ÿç‰©">ğŸ”</option>
                    <option value="è³¼ç‰©">ğŸ›ï¸</option>
                    <option value="å…¶ä»–">âœ¨</option>
                </select>
            </div>
            <div class="input-row">
                <input type="number" id="item-price" class="modern-input" placeholder="é‡‘é¡ (KRW)">
            </div>
            
            <button onclick="addExpense()" class="add-btn">æ–°å¢ç´€éŒ„</button>

            <div class="expense-list" id="expense-list"></div>

            <div class="total-card">
                <div class="total-label">Total Expenses</div>
                <div class="total-krw" id="total-krw">â‚©0</div>
                <div class="total-twd" id="total-twd">â‰ˆ NT$ 0</div>
            </div>
        </div>

    </main>

    <script>
        let currentRate = 0.024; // é è¨­
        let expenses = JSON.parse(localStorage.getItem('busan_day2_modern_expenses')) || [];

        window.onload = function() {
            fetchExchangeRate();
            renderExpenses();
        };

        async function fetchExchangeRate() {
            const rateDisplay = document.getElementById('rate-display');
            try {
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/KRW');
                const data = await response.json();
                if (data.rates && data.rates.TWD) {
                    currentRate = data.rates.TWD;
                    rateDisplay.textContent = `åŒ¯ç‡: ${currentRate}`;
                    renderExpenses();
                }
            } catch (error) {
                rateDisplay.textContent = "ä½¿ç”¨é è¨­åŒ¯ç‡";
            }
        }

        function addExpense() {
            const name = document.getElementById('item-name').value.trim();
            const price = parseInt(document.getElementById('item-price').value);
            const cat = document.getElementById('item-cat').value;

            if (!name || isNaN(price)) { alert('è«‹è¼¸å…¥å®Œæ•´è³‡è¨Š'); return; }

            expenses.push({ id: Date.now(), name, price, cat });
            saveAndRender();
            
            document.getElementById('item-name').value = '';
            document.getElementById('item-price').value = '';
        }

        function deleteExpense(id) {
            if(confirm('åˆªé™¤æ­¤ç­†ç´€éŒ„ï¼Ÿ')) {
                expenses = expenses.filter(item => item.id !== id);
                saveAndRender();
            }
        }

        function saveAndRender() {
            localStorage.setItem('busan_day2_modern_expenses', JSON.stringify(expenses));
            renderExpenses();
        }

        function renderExpenses() {
            const listEl = document.getElementById('expense-list');
            listEl.innerHTML = '';
            let total = 0;

            expenses.forEach(item => {
                total += item.price;
                const twd = Math.round(item.price * currentRate);
                
                const div = document.createElement('div');
                div.className = 'expense-item';
                div.innerHTML = `
                    <div>
                        <div class="item-main">${getCatEmoji(item.cat)} ${item.name}</div>
                        <div class="item-sub">${item.cat}</div>
                    </div>
                    <div style="display:flex; align-items:center;">
                        <div style="text-align:right; margin-right:10px;">
                            <div class="price-krw">â‚©${item.price.toLocaleString()}</div>
                            <div class="price-twd">â‰ˆ NT$${twd.toLocaleString()}</div>
                        </div>
                        <button class="del-btn" onclick="deleteExpense(${item.id})">Ã—</button>
                    </div>
                `;
                listEl.appendChild(div);
            });

            document.getElementById('total-krw').textContent = `â‚©${total.toLocaleString()}`;
            document.getElementById('total-twd').textContent = `â‰ˆ NT$ ${Math.round(total * currentRate).toLocaleString()}`;
        }

        function getCatEmoji(cat) {
            if(cat === 'äº¤é€š') return 'ğŸš•';
            if(cat === 'é£Ÿç‰©') return 'ğŸ”';
            if(cat === 'è³¼ç‰©') return 'ğŸ›ï¸';
            return 'âœ¨';
        }
    </script>
</body>
</html>
