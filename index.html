<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>BUSAN TRIP - Grand Deep Sea Edition</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#2A4B7C">
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Merriweather:wght@400;700;900&family=Noto+Serif+TC:wght@400;700;900&display=swap" rel="stylesheet">

    <style>
        :root {
            /* --- æ·±æµ·å¤§é£¯åº—å¾©å¤é…è‰² --- */
            --bg-main: #2A4B7C;      /* æ·±æµ·è— */
            --bg-card: #F2E8DC;      /* å¾©å¤å¥¶æ²¹ç´™è‰² */
            --text-main: #3E204F;    /* æ·±é›é’ (å…§æ–‡æ·±è‰²) */
            --text-light: #F2E8DC;   /* å¥¶æ²¹è‰² (æ·±åº•æ–‡å­—) */
            --color-accent: #E05A47; /* çŠç‘šç´… (å¼·èª¿/éƒµæˆ³) */
            --color-gold: #D9B44A;   /* å¤è‘£é‡‘ (é‚Šæ¡†/è£é£¾) */
            --border-dark: #3E204F;  /* æ·±è‰²é‚Šæ¡†ç·š */
            
            --border-radius: 12px; 
            --font-display: "Abril Fatface", cursive; /* ç”¨æ–¼å¤§æ¨™é¡Œçš„è¯éº—å­—é«” */
            --font-serif: "Merriweather", "Noto Serif TC", serif; /* ç”¨æ–¼å…§æ–‡çš„ç©©é‡å­—é«” */
            --border-width: 3px; 
            /* å¾©å¤ç¶²é»ç´‹ç† */
            --texture-overlay: radial-gradient(circle, var(--text-main) 10%, transparent 10.5%) 0 0 / 10px 10px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            margin: 0; padding: 0; 
            font-family: var(--font-serif);
            /* èƒŒæ™¯åŠ å…¥æ·±æµ·æ¼¸å±¤èˆ‡ç¶²é»ç´‹ç† */
            background-color: var(--bg-main);
            background-image: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%), var(--texture-overlay);
            background-blend-mode: soft-light;
            color: var(--text-main);
            padding-bottom: 60px;
        }

        /* é ‚éƒ¨å›ºå®šå€ - åƒä¸€å€‹åšé‡çš„éŠ…ç‰Œ */
        .top-bar {
            position: sticky; top: 0; z-index: 999;
            background: var(--bg-main);
            border-bottom: 4px solid var(--color-gold);
            box-shadow: 0 4px 0 var(--border-dark);
            padding-top: env(safe-area-inset-top);
        }

        .header-info {
            padding: 15px 20px; 
            display: flex; justify-content: space-between; align-items: center;
        }
        .app-title { 
            font-family: var(--font-display);
            font-size: 32px; 
            letter-spacing: 2px; 
            color: var(--color-gold); 
            /* è¯éº—çš„å¾©å¤å¤šé‡é™°å½± */
            text-shadow: 2px 2px 0 var(--color-accent), 4px 4px 0 var(--border-dark);
            text-transform: uppercase;
        }
        
        /* å¤©æ°£èˆ‡åŒ¯ç‡æ¨™ç±¤ - çŠç‘šç´…éƒµæˆ³é¢¨æ ¼ */
        .weather-badge, .rate-tag {
            font-size: 13px; font-weight: 900; color: var(--text-light);
            background: var(--color-accent); padding: 6px 12px; border-radius: 6px;
            text-decoration: none; 
            border: 2px solid var(--color-gold);
            box-shadow: 3px 3px 0 var(--border-dark);
            cursor: pointer; transition: 0.2s;
            display: flex; align-items: center; gap: 5px;
            font-family: var(--font-serif);
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        .weather-badge:active, .rate-tag:active { transform: translate(2px, 2px); box-shadow: 1px 1px 0 var(--border-dark); }
        .rate-tag { position: absolute; top: 20px; right: 20px; z-index: 10;}

        /* å°è¦½åˆ— - æ·±è‰²åšé‡æŒ‰éˆ• */
        .nav-bar-row { display: flex; align-items: center; padding: 10px 15px 25px; gap: 12px; }
        .nav-btn, .nav-select {
            display: block; width: 100%;
            text-align: center; padding: 12px 0;
            font-size: 16px; font-weight: 700; 
            color: var(--color-gold);
            background: var(--border-dark); /* æ·±åº•è‰² */
            border: 3px solid var(--color-gold);
            border-radius: 8px; 
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
            cursor: pointer; position: relative; transition: 0.2s;
            font-family: var(--font-display);
            letter-spacing: 1px;
            appearance: none; -webkit-appearance: none; outline: none;
        }
        .nav-btn { flex: 1; white-space: nowrap; }
        .nav-select-wrapper { flex: 1.3; position: relative; }
        .nav-select-wrapper::after {
            content: 'â–¼'; position: absolute; right: 15px; top: 50%; transform: translateY(-50%);
            font-size: 12px; color: var(--color-gold); pointer-events: none;
        }
        .nav-select { padding: 12px 15px; text-align: left; }
        /* é¸ä¸­ç‹€æ…‹ - è®Šç‚ºçŠç‘šç´… */
        .nav-btn.active, .nav-select-wrapper.active .nav-select {
            background: var(--color-accent); 
            color: var(--text-light);                     
            border-color: var(--border-dark);
            box-shadow: 2px 2px 0 var(--border-dark); 
            transform: translate(2px, 2px);  
        }
        .nav-select-wrapper.active::after { color: var(--text-light); }

        .view-container { display: none; padding: 30px 20px; max-width: 600px; margin: 0 auto; }
        .view-container.active { display: block; animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        /* --- å¡ç‰‡æ ¸å¿ƒæ¨£å¼ (è±ªè¯é›™é‡é‚Šæ¡†) --- */
        .retro-card, .flight-ticket, .balance-card, .input-area, .trip-card, .history-item {
            background-color: var(--bg-card);
            /* é›™é‡é‚Šæ¡†æ•ˆæœï¼šå…§é‡‘å¤–æ·± */
            border: 4px solid var(--border-dark);
            box-shadow: 0 0 0 2px var(--color-gold), 6px 6px 0 rgba(0,0,0,0.4);
            border-radius: 16px;
            color: var(--text-main);
            overflow: hidden;
            /* å¡ç‰‡å…§éƒ¨åŠ å…¥ç´°å¾®çš„èˆŠç´™å¼µç´‹ç† */
            background-image: linear-gradient(to bottom, rgba(255,255,255,0.4), rgba(255,255,255,0));
        }
        
        /* Emoji å¾©å¤æ¿¾é¡ - è®“å®ƒå€‘çœ‹èµ·ä¾†åƒèˆŠç‰ˆç•« */
        .cat-emoji, .stat-icon-small, .i-icon, .flight-icon {
            filter: sepia(0.8) hue-rotate(-20deg) contrast(1.1) drop-shadow(2px 2px 0 rgba(62, 32, 79, 0.3));
        }

        /* æ©Ÿç¥¨æ¨£å¼ */
        .flight-ticket { margin-bottom: 35px; position: relative; }
        /* æ©Ÿç¥¨ç¼ºå£ */
        .flight-ticket::before, .flight-ticket::after {
            content: ''; position: absolute; top: 145px; width: 15px; height: 30px; 
            background-color: var(--bg-main); z-index: 2;
            border: 4px solid var(--border-dark); box-sizing: border-box;
            box-shadow: inset 0 0 0 2px var(--color-gold);
        }
        .flight-ticket::before { left: -4px; border-radius: 0 15px 15px 0; border-left: none; }
        .flight-ticket::after { right: -4px; border-radius: 15px 0 0 15px; border-right: none; }

        .ticket-header { 
            padding: 20px 25px; display: flex; justify-content: space-between; align-items: center; 
            /* ä½¿ç”¨ SVG æ³¢æµªç·šä½œç‚ºåˆ†éš” */
            border-bottom: none;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='12' viewBox='0 0 40 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 6c10 0 10-4 20-4s10 4 20 4 10-4 20-4 10 4 20 4' stroke='%23D9B44A' stroke-width='3' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: repeat-x; background-position: center bottom;
            background-color: rgba(217, 180, 74, 0.15); /* æ·¡æ·¡çš„é‡‘è‰²èƒŒæ™¯ */
        }
        .ticket-label { font-family: var(--font-display); font-size: 20px; letter-spacing:1px; color: var(--border-dark); text-transform: uppercase; }
        .ticket-date { font-weight: 700; font-size: 16px; color: var(--color-accent); }
        .ticket-body { padding: 30px 25px; }
        .route-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
        .airport-code { font-size: 42px; font-family: var(--font-display); color: var(--border-dark); text-shadow: 2px 2px 0 var(--color-gold);}
        .airport-name { font-size: 14px; font-weight: 700; display: block; margin-top: 5px; opacity: 0.8; }
        .flight-icon { font-size: 32px; }
        .time-row { display: flex; justify-content: space-between; border-top: 3px dotted var(--color-gold); padding-top: 20px; margin-top: 15px; }
        .time-val { font-size: 28px; font-family: var(--font-display); color: var(--border-dark); }
        .time-lbl { font-size: 13px; font-weight: 700; margin-bottom: 4px; display: block; color: var(--color-accent); text-transform: uppercase;}
        .flight-info-row { margin-top: 25px; background: #FFF; padding: 12px 15px; border-radius: 8px; display: flex; justify-content: space-between; font-size: 14px; font-weight: 700; border: 2px solid var(--border-dark); box-shadow: 3px 3px 0 rgba(0,0,0,0.2); }
        .airline-logo { display:flex; align-items:center; gap:8px; font-weight: 900; color: var(--border-dark); }

        /* è³‡ç”¢å¡ç‰‡ - è±ªè¯ç‰ˆ */
        .balance-card { padding: 30px 30px 25px; margin-bottom: 35px; position: relative; }
        .balance-label { font-family: var(--font-display); font-size: 22px; color: var(--border-dark); letter-spacing: 1px; text-transform: uppercase;}
        /* å·¨å¤§çš„å¾©å¤é‡‘é¡é¡¯ç¤º */
        .balance-amount { 
            font-family: var(--font-display); font-size: 56px; margin: 15px 0 5px; 
            color: var(--color-accent);
            text-shadow: 3px 3px 0 var(--border-dark);
        }
        .balance-sub { font-size: 18px; font-weight: 700; color: var(--border-dark); opacity: 0.8;}
        /* æ³¢æµªåˆ†éš”ç·š */
        .stats-divider { 
            border: none; height: 15px; margin: 25px 0;
            background-image: url("data:image/svg+xml,%3Csvg width='40' height='12' viewBox='0 0 40 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 6c10 0 10-4 20-4s10 4 20 4 10-4 20-4 10 4 20 4' stroke='%23D9B44A' stroke-width='3' fill='none' fill-rule='evenodd'/%3E%3C/svg%3E");
            background-repeat: repeat-x; background-position: center; opacity: 0.8;
        }
        .stats-row { display: flex; justify-content: space-between; padding: 0 10px; }
        .stat-col { text-align: center; flex: 1; }
        .stat-icon-small { font-size: 24px; margin-bottom: 8px; }
        .stat-val-small { font-size: 16px; font-weight: 900; color: var(--border-dark); }

        /* è¼¸å…¥å€ */
        .input-area { padding: 30px; margin-bottom: 30px; }
        .input-title { font-family: var(--font-display); font-size: 20px; color: var(--border-dark); margin-bottom: 20px; display:block; }
        .input-row { display: flex; gap: 12px; margin-bottom: 18px; }
        .modern-input { 
            width: 100%; padding: 16px; 
            border: 3px solid var(--border-dark); border-radius: 10px; 
            background: #FFF; font-size: 18px; color: var(--border-dark); font-weight: 700; 
            box-shadow: inset 3px 3px 0 rgba(0,0,0,0.1);
            font-family: var(--font-serif);
        }
        .modern-input:focus { border-color: var(--color-accent); box-shadow: 0 0 0 3px rgba(224, 90, 71, 0.3); }
        /* æ–°å¢æŒ‰éˆ• - çŠç‘šç´… */
        .add-btn { 
            width: 100%; background: var(--color-accent); color: var(--text-light); 
            padding: 18px; border-radius: 10px; 
            border: 3px solid var(--border-dark);
            font-family: var(--font-display); font-size: 20px; letter-spacing: 1px;
            cursor: pointer; box-shadow: 4px 4px 0 var(--border-dark); transition: 0.2s; margin-top: 15px; 
        }
        .add-btn:active { transform: translate(4px, 4px); box-shadow: none; }

        /* æ­·å²ç´€éŒ„ */
        .history-list { margin-top: 20px; padding-bottom: 20px; }
        .date-divider { 
            font-family: var(--font-display); font-size: 26px; color: var(--color-gold); 
            text-shadow: 2px 2px 0 var(--border-dark);
            margin: 40px 0 20px 10px; padding-bottom: 10px;
            border-bottom: 3px dotted var(--color-gold);
        }
        .history-item { 
            padding: 20px; margin-bottom: 15px; border-radius: 12px;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.2); border-width: 3px;
        }
        .h-name { font-weight: 900; font-size: 17px; color: var(--border-dark);}
        .h-cat { font-size: 14px; opacity: 0.8; font-weight: 700; margin-top: 5px; color: var(--color-accent);}
        .h-price { font-family: var(--font-display); font-weight: 400; font-size: 22px; color: var(--border-dark); }
        .h-twd { font-size: 14px; color: var(--color-accent); font-weight: 700; }
        .del-btn { color: var(--border-dark); font-size: 28px; padding-left: 20px; opacity: 0.6; transition: 0.2s;}
        .del-btn:active { color: var(--color-accent); opacity: 1; transform: scale(1.2);}

        /* é¸é …æŒ‰éˆ• (æ—¥æœŸ/åˆ†é¡) */
        .date-scroll-container, .cat-row { padding: 5px 5px 25px; }
        .date-chip, .cat-btn { 
            background: var(--bg-card); border: 3px solid var(--border-dark); 
            font-family: var(--font-display); font-size: 16px; color: var(--border-dark);
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3); border-radius: 8px;
        }
        .date-chip { padding: 12px 20px; margin-right: 12px; border-radius: 30px;} .cat-btn { padding: 15px 10px; }
        /* é¸ä¸­ç‹€æ…‹ - æ·±è‰²åº•é‡‘è‰²å­— */
        .date-chip.active, .cat-btn.active { 
            background: var(--border-dark); color: var(--color-gold); 
            box-shadow: 2px 2px 0 var(--color-gold); border-color: var(--color-gold);
        }

        /* è¡Œç¨‹å¡ç‰‡ */
        .timeline { position: relative; padding-left: 30px; padding-top: 15px; }
        .timeline::before { content: ''; position: absolute; left: 10px; top: 0; bottom: 0; width: 6px; background: var(--color-gold); border-radius: 6px; opacity: 0.5; border: 2px solid var(--border-dark);}
        .day-header { font-family: var(--font-display); font-size: 32px; color: var(--color-gold); margin-bottom: 30px; padding-left: 15px; text-shadow: 3px 3px 0 var(--border-dark); }
        
        .trip-card { margin-bottom: 40px; } 
        .trip-card::after { content: ''; position: absolute; left: -39px; top: 30px; width: 24px; height: 24px; border-radius: 50%; background: var(--color-accent); border: 3px solid var(--border-dark); z-index: 1; box-shadow: 2px 2px 0 var(--color-gold);}
        .card-img-top { height: 220px; border-bottom: 4px solid var(--border-dark); filter: sepia(0.3) contrast(1.1); } 
        .card-content { padding: 30px; }
        .t-time { font-family: var(--font-display); font-size: 20px; color: var(--color-accent); margin-bottom: 10px; border-bottom: 3px solid var(--color-gold); }
        .t-title { font-family: var(--font-display); font-size: 28px; margin-bottom: 15px; line-height: 1.2; color: var(--border-dark); }
        .i-icon { color: var(--color-accent); } .i-text { font-size: 17px; }
        
        .pill { background: var(--border-dark); color: var(--color-gold); border: 2px solid var(--color-gold); font-family: var(--font-serif);}
        .naver-link { background: var(--border-dark); color: var(--color-gold); border: 3px solid var(--color-gold); box-shadow: 4px 4px 0 rgba(0,0,0,0.4); font-family: var(--font-display); letter-spacing: 1px;}
        .naver-link:active { transform: translate(4px, 4px); box-shadow: none; background: var(--color-accent); color: var(--text-light); border-color: var(--border-dark);}
        
        .choice-wrapper { border: 3px dashed var(--color-gold); background: rgba(217, 180, 74, 0.1); }
        .choice-label { background: var(--color-accent); color: var(--text-light); border: 2px solid var(--border-dark); font-family: var(--font-display); letter-spacing: 1px;}
        .choice-or::before { background: var(--color-gold); height: 3px; opacity: 0.6; } 
        .choice-or span { background: var(--bg-card); color: var(--color-gold); border: 3px solid var(--color-gold); font-family: var(--font-display);}
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="header-info">
            <div class="app-title">Busan Trip</div>
            <div id="weather-badge" class="weather-badge" onclick="fetchBusanWeather()">ğŸ‡°ğŸ‡· é‡œå±±å¤©æ°£è¼‰å…¥ä¸­...</div>
        </div>
        <div class="nav-bar-row">
            <button class="nav-btn" id="btn-flight" onclick="switchView('flight')">èˆªç­è³‡è¨Š</button>
            <button class="nav-btn active" id="btn-accounting" onclick="switchView('accounting')">æ”¯å‡ºç´€éŒ„</button>
            <div class="nav-select-wrapper" id="wrapper-itinerary">
                <select class="nav-select" id="day-selector" onchange="switchView('itinerary', this.value)">
                    <option value="" disabled selected>è¡Œç¨‹ä¸€è¦½ â–¾</option>
                    <option value="day1">Day 1 (3/5)</option>
                    <option value="day2">Day 2 (3/6)</option>
                    <option value="day3">Day 3 (3/7)</option>
                    <option value="day4">Day 4 (3/8)</option>
                    <option value="day5">Day 5 (3/9)</option>
                </select>
            </div>
        </div>
    </div>

    <div id="view-accounting" class="view-container active">
        <div class="balance-card">
            <div class="rate-tag" id="rate-display">å›ºå®šåŒ¯ç‡: 0.024</div>
            <div class="balance-label">Trip Total</div>
            <div class="balance-amount" id="total-krw">â‚©0</div>
            <div class="balance-sub" id="total-twd">â‰ˆ NT$ 0</div>
            <div class="stats-divider"></div>
            <div class="stats-row">
                <div class="stat-col"><span class="stat-icon-small">ğŸš•</span><span class="stat-val-small" id="stat-transport">0</span></div>
                <div class="stat-col"><span class="stat-icon-small">ğŸ”</span><span class="stat-val-small" id="stat-food">0</span></div>
                <div class="stat-col"><span class="stat-icon-small">ğŸ›ï¸</span><span class="stat-val-small" id="stat-shopping">0</span></div>
                <div class="stat-col"><span class="stat-icon-small">âœ¨</span><span class="stat-val-small" id="stat-other">0</span></div>
            </div>
        </div>

        <div class="input-area">
            <span class="input-title">æ–°å¢æ”¯å‡ºè‡³ï¼š</span>
            <div class="date-scroll-container">
                <div class="date-chip active" onclick="selectDate('3/5')">3/5</div>
                <div class="date-chip" onclick="selectDate('3/6')">3/6</div>
                <div class="date-chip" onclick="selectDate('3/7')">3/7</div>
                <div class="date-chip" onclick="selectDate('3/8')">3/8</div>
                <div class="date-chip" onclick="selectDate('3/9')">3/9</div>
            </div>
            <div class="cat-row">
                <div class="cat-btn active" onclick="selectCategory('äº¤é€š')"><span class="cat-emoji">ğŸš•</span>äº¤é€š</div>
                <div class="cat-btn" onclick="selectCategory('é£Ÿç‰©')"><span class="cat-emoji">ğŸ”</span>é£Ÿç‰©</div>
                <div class="cat-btn" onclick="selectCategory('è³¼ç‰©')"><span class="cat-emoji">ğŸ›ï¸</span>è³¼ç‰©</div>
                <div class="cat-btn" onclick="selectCategory('å…¶ä»–')"><span class="cat-emoji">âœ¨</span>å…¶ä»–</div>
            </div>
            <div class="input-row"><input type="text" id="item-name" class="modern-input" placeholder="ç´°é … (ç©ºç™½å‰‡è‡ªå‹•å¡«å…¥åˆ†é¡)"></div>
            <div class="input-row"><input type="number" id="item-price" class="modern-input" placeholder="é‡‘é¡ (KRW)"></div>
            <button onclick="addExpense()" id="btn-add" class="add-btn">ç¢ºèªæ–°å¢ (è‡³ <span id="btn-date-label">3/5</span>)</button>
        </div>
        <div class="history-list" id="expense-list"><div class="loading-text">ğŸ”„ æ­£åœ¨åŒæ­¥å…¨å®¶äººçš„å¸³æœ¬...</div></div>
    </div>

    <div id="view-flight" class="view-container">
        <div class="flight-ticket"><div class="ticket-header outbound"><div class="ticket-label">Outbound å»ç¨‹</div><div class="ticket-date">2025/3/5 (å››)</div></div><div class="ticket-body"><div class="route-row"><div><span class="airport-code">TPE</span><span class="airport-name">å°åŒ—æ¡ƒåœ’ T2</span></div><div class="flight-icon">âœˆ</div><div style="text-align:right;"><span class="airport-code">PUS</span><span class="airport-name">é‡œå±±é‡‘æµ· I</span></div></div><div class="time-row"><div class="time-col"><span class="time-lbl">DEPARTURE</span><span class="time-val">14:25</span></div><div class="time-col" style="text-align:right;"><span class="time-lbl">ARRIVAL</span><span class="time-val">17:40</span></div></div><div class="flight-info-row"><div class="airline-logo">EVA AIR BR164</div><div>2h 15m â€¢ A321</div></div></div></div>
        <div class="flight-ticket"><div class="ticket-header inbound"><div class="ticket-label">Inbound å›ç¨‹</div><div class="ticket-date">2025/3/9 (ä¸€)</div></div><div class="ticket-body"><div class="route-row"><div><span class="airport-code">PUS</span><span class="airport-name">é‡œå±±é‡‘æµ· I</span></div><div class="flight-icon">âœˆ</div><div style="text-align:right;"><span class="airport-code">TPE</span><span class="airport-name">å°åŒ—æ¡ƒåœ’ T2</span></div></div><div class="time-row"><div class="time-col"><span class="time-lbl">DEPARTURE</span><span class="time-val">18:55</span></div><div class="time-col" style="text-align:right;"><span class="time-lbl">ARRIVAL</span><span class="time-val">20:25</span></div></div><div class="flight-info-row"><div class="airline-logo">EVA AIR BR163</div><div>2h 30m â€¢ A321</div></div></div></div>
    </div>

    <div id="view-itinerary" class="view-container">
        <div id="day1-content" class="day-schedule"><div class="day-header">Day 1 â€¢ 3/5 (å››)</div><div class="timeline">
            <div class="trip-card"><img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20250116_289%2F1737003869730qVEz9_PNG%2Fmain.png" class="card-img-top"><div class="card-content"><div class="t-time">18:40 - 19:40</div><div class="t-title">Check in: æ±æ©«INN é‡œå±±ä¸­å¤®ç«™<span class="t-kr-name">í† ìš”ì½”ì¸ ë¶€ì‚°ì¤‘ì•™ì—­</span></div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš—</div><div class="i-text"><span class="pill">åŒ…è»Š</span> ç´„ 40 åˆ†é˜</div></div><a href="https://naver.me/F2ZbDfjE" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20240624_9%2F1719216423913A9KDN_JPEG%2F04_%25C8%25AD%25BE%25E7%25B9%25DD.jpg" class="card-img-top"><div class="card-content"><div class="t-time">19:40 - 22:00</div><div class="t-title">é£¯åº—é™„è¿‘æ™šé¤<span class="t-kr-name">í˜¸í…” ê·¼ì²˜ ì €ë… ì‹ì‚¬</span></div><div class="info-block"><div class="i-icon">ğŸš¶</div><div class="i-text"><span class="pill">æ­¥è¡Œ</span> ç´„ 5 åˆ†é˜</div></div></div></div>
        </div></div>
        
        <div id="day2-content" class="day-schedule"><div class="day-header">Day 2 â€¢ 3/6 (äº”)</div><div class="timeline">
            <div class="trip-card"><img src="https://tong.visitkorea.or.kr/cms/resource/92/3365492_image2_1.jpg" class="card-img-top"><div class="card-content"><div class="t-time">09:00 - 11:00</div><div class="t-title">ç”˜å·æ´æ–‡åŒ–æ‘<span class="t-kr-name">ê°ì²œë¬¸í™”ë§ˆì„</span></div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì‚¬í•˜êµ¬ ê°ë‚´2ë¡œ 203 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì‚¬í•˜êµ¬ ê°ë‚´2ë¡œ 203')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©6,600 x 2 (15åˆ†)</div></div><a href="https://map.naver.com/p/search/%EA%B0%90%EC%B2%9C%EB%AC%B8%ED%99%94%EB%A7%88%EC%9D%84%EC%95%88%EB%82%B4%EC%84%BC%ED%84%B0" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://images.unsplash.com/photo-1580651315530-69c8e0026377?q=80,w=800" class="card-img-top"><div class="card-content"><div class="t-time">11:00 - 12:00</div><div class="t-title">å¯†é™½å®¶è±¬è‚‰æ¹¯é£¯<span class="t-kr-name">ë°€ì–‘ì§‘</span></div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘êµ¬ë¡œ47ë²ˆê¸¸ 35 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘êµ¬ë¡œ47ë²ˆê¸¸ 35')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©5,200 x 2 (8åˆ†)</div></div><a href="https://map.naver.com/p/search/%EB%B0%80%EC%96%91%EC%A7%91" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://twobunny.tw/wp-content/uploads/2024/04/2024-0131-bupyeong-market.jpg" class="card-img-top"><div class="card-content"><div class="t-time">12:00 - 15:00</div><div class="t-title">å¸‚å ´å·¡ç¦®<span class="t-kr-name">ì‹œì¥ íˆ¬ì–´</span></div><div class="info-block" style="flex-direction:column;gap:15px;margin:10px 0 15px;"><div><strong>1. å¯Œå¹³ç½é ­å¸‚å ´</strong><br><span style="font-size:13px;opacity:0.8;">ë¶€ì‚° ì¤‘êµ¬ ë¶€í‰1ê¸¸ 48 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ë¶€í‰1ê¸¸ 48')">ğŸ“‹</button></span></div><div><strong>2. åœ‹éš›å¸‚å ´</strong><br><span style="font-size:13px;opacity:0.8;">ë¶€ì‚° ì¤‘êµ¬ ì‹ ì°½ë™4ê°€ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì‹ ì°½ë™4ê°€')">ğŸ“‹</button></span></div><div><strong>3. é˜¿é‡Œéƒè¡—</strong><br><span style="font-size:13px;opacity:0.8;">ë¶€ì‚° ì¤‘êµ¬ ê´‘ë³µë¡œ35ë²ˆê¸¸ 11 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ê´‘ë³µë¡œ35ë²ˆê¸¸ 11')">ğŸ“‹</button></span></div></div><div class="multi-btn-row"><a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EB%B6%80%ED%8F%891%EA%B8%B8%2048" target="_blank" class="naver-link">å¯Œå¹³</a><a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EC%8B%A0%EC%B0%BD%EB%8F%994%EA%B0%80" target="_blank" class="naver-link">åœ‹éš›</a><a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EA%B4%91%EB%B3%B5%EB%A1%9C35%EB%B2%88%EA%B8%B8%2011" target="_blank" class="naver-link">é˜¿é‡Œéƒ</a></div></div></div>
            <div class="trip-card"><img src="https://tong.visitkorea.or.kr/cms/resource/93/3343193_image2_1.jpg" class="card-img-top"><div class="card-content"><div class="t-time">15:00 - 16:30</div><div class="t-title">æ™¯é»äºŒæ“‡ä¸€<span class="t-kr-name">ì„ íƒ ê´€ê´‘</span></div><div class="choice-wrapper"><div class="choice-option"><span class="choice-label">Plan A</span> <strong>ç™½æ·ºç˜æ–‡åŒ–æ‘</strong><div class="info-block" style="margin:5px 0;"><div class="i-icon">ğŸ“</div><div class="i-text" style="font-size:14px;">ë¶€ì‚° ì˜ë„êµ¬ ì˜ì„ ë™4ê°€ 605-3 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì˜ë„êµ¬ ì˜ì„ ë™4ê°€ 605-3')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text" style="font-size:14px;"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©6,500 x 2</div></div></div><div class="choice-or"><span>OR</span></div><div class="choice-option"><span class="choice-label">Plan B</span> <strong>BIFF å»£å ´</strong><div class="info-block" style="margin:5px 0;"><div class="i-icon">ğŸ“</div><div class="i-text" style="font-size:14px;">ë¶€ì‚° ì¤‘êµ¬ êµ¬ë•ë¡œ 44 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ êµ¬ë•ë¡œ 44')">ğŸ“‹</button></div></div></div></div></div></div>
            <div class="trip-card"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRK8Q5NDWocFJevYKts9v4wlq7OYSwn0VwnCA&s" class="card-img-top"><div class="card-content"><div class="t-time">16:30 - 18:30</div><div class="t-title">æ™šé¤ï¼šå—æµ¦æ’éª¨çƒ¤è‚‰</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ë‚¨í¬ê¸¸ 40-2 1ì¸µ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ë‚¨í¬ê¸¸ 40-2 1ì¸µ')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/%EB%82%A8%ED%8F%AC%EB%8F%88%EA%B0%88%EB%B9%84" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="image_c3d567.jpg" onerror="this.src='https://tong.visitkorea.or.kr/cms/resource/58/2997958_image2_1.jpg'" class="card-img-top"><div class="card-content"><div class="t-time">18:30 - 20:00</div><div class="t-title">æ¨‚å¤©ç™¾è²¨å…‰å¾©åº—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 2 , 1ì¸µ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 2')">ğŸ“‹</button></div></div><a href="https://map.naver.com/v5/search/%EB%B6%80%EC%82%B0%20%EC%A4%91%EA%B5%AC%20%EC%A4%91%EC%95%99%EB%8C%80%EB%A1%9C%202" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20250116_289%2F1737003869730qVEz9_PNG%2Fmain.png" class="card-img-top"><div class="card-content"><div class="t-time">20:00 -</div><div class="t-title">å›é£¯åº—ï¼šæ±æ©«INN</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125')">ğŸ“‹</button></div></div><a href="https://naver.me/F2ZbDfjE" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
        </div></div>

        <div id="day3-content" class="day-schedule"><div class="day-header">Day 3 â€¢ 3/7 (å…­)</div><div class="timeline">
            <div class="trip-card"><img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&q=80" class="card-img-top"><div class="card-content"><div class="t-time">10:00 - 12:00</div><div class="t-title">ç”°æµ¦å’–å•¡è¡—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ë™ì²œë¡œ 92 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ë™ì²œë¡œ 92')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©11,000 x 2</div></div><a href="https://map.naver.com/p/search/%EB%B6%80%EC%82%B0%20%EB%B6%80%EC%82%B0%EC%A7%84%EA%B5%AC%20%EB%8F%99%EC%B2%9C%EB%A1%9C%2092" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://mimigo.tw/wp-content/uploads/20180501200925_69.jpg" class="card-img-top"><div class="card-content"><div class="t-time">12:00 - 13:00</div><div class="t-title">æ¾äº­3ä»£è±¬è‚‰æ¹¯é£¯</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì„œë©´ë¡œ68ë²ˆê¸¸ 33 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì„œë©´ë¡œ68ë²ˆê¸¸ 33')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/%EC%86%A1%EC%A0%953%EB%8C%80%EA%B5%AD%EB%B0%A5" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://www.visitbusan.net/uploadImgs/files/cntnts/20191227114045978_erhte" class="card-img-top"><div class="card-content"><div class="t-time">13:00 - 14:30</div><div class="t-title">è¥¿é¢å¸‚å ´ (æ›åŒ¯)</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì„œë©´ë¡œ 56 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì„œë©´ë¡œ 56')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/%EB%B6%80%EC%82%B0%20%EB%B6%80%EC%82%B0%EC%A7%84%EA%B5%AC%20%EC%84%9C%EB%A9%B4%EB%A1%9C%2056" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://debbiechien.com/wp-content/uploads/2025/03/IMG_1670-2_11zon-1024x768.jpg" class="card-img-top"><div class="card-content"><div class="t-time">14:30 - 17:00</div><div class="t-title">è¥¿é¢å¤§é€›è¡—</div><div class="info-block" style="flex-direction:column;gap:15px;margin:10px 0 15px;"><div><strong>1. è¥¿é¢é’æ˜¥è¡—</strong><br><span style="font-size:13px;opacity:0.8;">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ë¶€ì „ë™ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ë¶€ì „ë™')">ğŸ“‹</button></span></div><div><strong>2. è¥¿é¢åœ°ä¸‹è¡—</strong><br><span style="font-size:13px;opacity:0.8;">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì¤‘ì•™ëŒ€ë¡œ 717 ëŒ€í˜„í”„ë¦¬ëª°ë¶€ì‚° <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì¤‘ì•™ëŒ€ë¡œ 717 ëŒ€í˜„í”„ë¦¬ëª°ë¶€ì‚°')">ğŸ“‹</button></span></div></div><div class="multi-btn-row"><a href="https://map.naver.com/p/search/%EC%84%9C%EB%A9%B4%EC%A0%8A%EC%9D%8C%EC%9D%98%EA%B1%B0%EB%A6%AC" target="_blank" class="naver-link">é’æ˜¥è¡—</a><a href="https://map.naver.com/p/search/%EB%8C%80%ED%98%84%ED%94%84%EB%A6%AC%EB%AA%B0%EB%B6%80%EC%82%B0" target="_blank" class="naver-link">åœ°ä¸‹è¡—</a></div></div></div>
            <div class="trip-card"><img src="https://alinalife.tw/webp/wp-content/uploads/2024/11/DSCF5082.jpg.webp" class="card-img-top"><div class="card-content"><div class="t-time">17:00 - 18:30</div><div class="t-title">å‘³è´Šç‹é¹½çƒ¤è‚‰ è¥¿é¢åº—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì¤‘ì•™ëŒ€ë¡œ691ë²ˆê°€ê¸¸ 24-3 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ì¤‘ì•™ëŒ€ë¡œ691ë²ˆê°€ê¸¸ 24-3')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/%EB%A7%9B%EC%B0%AC%EB%93%A4%EC%99%95%EC%86%8C%EA%B8%88%EA%B5%AC%EC%9D%B4%20%EC%84%9C%EB%A9%B4%EC%A0%90" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://tong.visitkorea.or.kr/cms/resource/56/2997956_image2_1.jpg" class="card-img-top"><div class="card-content"><div class="t-time">18:30 - 20:00</div><div class="t-title">æ¨‚å¤©ç™¾è²¨é‡œå±±æœ¬åº—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ê°€ì•¼ëŒ€ë¡œ 772 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ë¶€ì‚°ì§„êµ¬ ê°€ì•¼ëŒ€ë¡œ 772')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/%EB%A1%AF%EB%8D%B0%EB%B0%B1%ED%99%94%EC%A0%90%20%EB%B6%80%EC%82%B0%EB%B3%B8%EC%A0%90" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20250116_289%2F1737003869730qVEz9_PNG%2Fmain.png" class="card-img-top"><div class="card-content"><div class="t-time">20:00 -</div><div class="t-title">å›é£¯åº—ï¼šæ±æ©«INN</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©11,000 x 2</div></div><a href="https://naver.me/F2ZbDfjE" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
        </div></div>

        <div id="day4-content" class="day-schedule"><div class="day-header">Day 4 â€¢ 3/8 (æ—¥)</div><div class="timeline">
            <div class="trip-card"><img src="https://www.ktsketch.co.kr/news/photo/201909/4757_18592_3749.gif" class="card-img-top"><div class="card-content"><div class="t-time">09:00 - 11:00</div><div class="t-title">æµ·æ±é¾å®®å¯º</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ê¸°ì¥êµ° ê¸°ì¥ì ìš©ê¶ê¸¸ 86 í•´ë™ìš©ê¶ì‚¬ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ê¸°ì¥êµ° ê¸°ì¥ì ìš©ê¶ê¸¸ 86 í•´ë™ìš©ê¶ì‚¬')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©26,000 x 2 (40åˆ†)</div></div><a href="https://map.naver.com/p/search/%ED%95%B4%EB%8F%99%EC%9A%A9%EA%B6%81%EC%82%AC" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://tong.visitkorea.or.kr/cms/resource/60/2997960_image2_1.jpg" class="card-img-top"><div class="card-content"><div class="t-time">11:00 - 17:00</div><div class="t-title">Lotte Premium Outlets æ±é‡œå±±åº—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ê¸°ì¥êµ° ê¸°ì¥ì ì‹œë‘ë¦¬ 358-17 , 1ì¸µ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ê¸°ì¥êµ° ê¸°ì¥ì ì‹œë‘ë¦¬ 358-17')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©6,000 x 2 (ç´„5åˆ†)</div></div><a href="https://map.naver.com/p/search/%EB%A1%AF%EB%8D%B0%EC%95%84%EC%9A%B8%EB%A0%9B%20%EB%8F%99%EB%B6%80%EC%82%B0" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://media.cnn.com/api/v1/images/stellar/prod/01-gettyimages-1746790723v2.jpg?c=original" class="card-img-top"><div class="card-content"><div class="t-time">17:00 - 20:00</div><div class="t-title">å½ˆæ€§è‡ªç”±æ™‚é–“</div><div class="info-block"><div class="i-icon">âœ¨</div><div class="i-text">é‡è¦æ™¯é»çš†å·²å»éï¼Œçœ‹æœ‰æ²’æœ‰å“ªè£¡æƒ³å†å»ä¸€æ¬¡æˆ–æ˜¯æ²’æ’åˆ°è¦å»çš„</div></div></div></div>
            <div class="trip-card"><img src="https://search.pstatic.net/common/?src=https%3A%2F%2Fldb-phinf.pstatic.net%2F20250116_289%2F1737003869730qVEz9_PNG%2Fmain.png" class="card-img-top"><div class="card-content"><div class="t-time">20:00 -</div><div class="t-title">å›é£¯åº—ï¼šæ±æ©«INN</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ëŒ€ë¡œ 125')">ğŸ“‹</button></div></div><a href="https://naver.me/F2ZbDfjE" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
        </div></div>

        <div id="day5-content" class="day-schedule"><div class="day-header">Day 5 â€¢ 3/9 (ä¸€)</div><div class="timeline">
            <div class="trip-card"><img src="https://localsegye.co.kr/news/data/20230317/p1065596236950980_150_thum.JPG" class="card-img-top"><div class="card-content"><div class="t-time">11:00 - 14:00</div><div class="t-title">Check out & åˆé¤ï¼š40éšæ¢¯æ–‡åŒ–è¡—</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ë™4ê°€ <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ì¤‘êµ¬ ì¤‘ì•™ë™4ê°€')">ğŸ“‹</button></div></div><a href="https://map.naver.com/p/search/40%EA%B3%84%EB%8B%A8%EA%B1%B0%EB%A6%AC" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
            <div class="trip-card"><img src="https://i.namu.wiki/i/PV3f5fDHDbvwBjel_bhWCVoa5NCSGguYDXp0rA78OugM-nKn7LPc7ryF-Of1ACgbyKSlJd7OYhGQWh3VfqOg3Q.webp" class="card-img-top"><div class="card-content"><div class="t-time">14:00 -</div><div class="t-title">å‰å¾€é‡‘æµ·åœ‹éš›æ©Ÿå ´</div><div class="info-block"><div class="i-icon">ğŸ“</div><div class="i-text">ë¶€ì‚° ê°•ì„œêµ¬ ê³µí•­ì§„ì…ë¡œ 108 <button class="copy-btn" onclick="copyToClipboard('ë¶€ì‚° ê°•ì„œêµ¬ ê³µí•­ì§„ì…ë¡œ 108')">ğŸ“‹</button></div></div><div class="info-block"><div class="i-icon">ğŸš•</div><div class="i-text"><span class="pill">è¨ˆç¨‹è»Š</span> â‚©20,200 x 2 (30åˆ†)</div></div><a href="https://map.naver.com/p/search/%EA%B9%80%ED%95%B4%EA%B5%AD%EC%A0%9C%EA%B3%B5%ED%95%AD" target="_blank" class="naver-link">é–‹å•Ÿ NAVER MAP â†—</a></div></div>
        </div></div>
    </div>

    <script>
        // å¼·åˆ¶è¨»éŠ· Service Worker (é˜²æ­¢æ‰‹æ©ŸæŠ“èˆŠç‰ˆ)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) { registration.unregister(); }
            });
        }

        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzqxrEtyGvqY1pagncoPvIHKhT2xf6RanERbimucepBkHvrzfYwY573iLu_DCMVw8bK/exec';
        
        // æ°¸ä¹…å›ºå®šåŒ¯ç‡ 0.024
        const currentRate = 0.024; 
        
        let expenses = []; let selectedInputDate = '3/5'; let selectedCategory = 'äº¤é€š';
        const tripDates = ['3/5', '3/6', '3/7', '3/8', '3/9']; 
        const BUSAN_LAT = 35.1028; const BUSAN_LON = 129.0331;

        document.addEventListener('DOMContentLoaded', () => {
            const savedTab = localStorage.getItem('active_tab') || 'accounting';
            if(savedTab === 'itinerary') {
                const savedDay = localStorage.getItem('active_day') || 'day1';
                switchView('itinerary', savedDay);
                document.getElementById('day-selector').value = savedDay;
            } else { switchView(savedTab); }
            
            fetchBusanWeather(); selectDate('3/5'); fetchExpenses();
        });

        async function fetchExpenses() {
            const listEl = document.getElementById('expense-list');
            if(expenses.length === 0) listEl.innerHTML = '<div class="loading-text">ğŸ”„ æ­£åœ¨åŒæ­¥å…¨å®¶äººçš„å¸³æœ¬...</div>';
            try {
                const params = new URLSearchParams({ action: 'read' });
                const res = await fetch(`${SCRIPT_URL}?${params}`);
                const data = await res.json();
                expenses = data; renderExpenses();
            } catch (err) {
                if(expenses.length === 0) listEl.innerHTML = '<div class="loading-text" style="color:var(--text-light)">âš ï¸ é€£ç·šè¼ƒæ…¢æˆ–å¤±æ•—<br>è«‹æª¢æŸ¥ç¶²è·¯æˆ–ç¨å¾Œé‡è©¦</div>';
            }
        }

        async function addExpense() {
            const nameInput = document.getElementById('item-name');
            const priceInput = document.getElementById('item-price');
            const btn = document.getElementById('btn-add');
            const finalName = nameInput.value.trim() || selectedCategory;
            const price = parseInt(priceInput.value);
            if (isNaN(price)) { alert('è«‹è¼¸å…¥é‡‘é¡ï¼'); return; }
            
            const formData = new URLSearchParams();
            formData.append('action', 'add'); formData.append('id', Date.now()); formData.append('date', selectedInputDate);
            formData.append('cat', selectedCategory); formData.append('name', finalName); formData.append('price', price);

            btn.disabled = true; btn.innerText = 'â³ å„²å­˜ä¸­...';

            try {
                await fetch(SCRIPT_URL, { method: 'POST', body: formData });
                nameInput.value = ''; priceInput.value = ''; await fetchExpenses();
            } catch (err) { alert('æ–°å¢å¤±æ•—ï¼è«‹ç¢ºèªç¶²è·¯é€£ç·š'); } 
            finally { btn.disabled = false; btn.innerText = `ç¢ºèªæ–°å¢ (è‡³ ${selectedInputDate})`; }
        }

        async function deleteExpense(id) {
            if(!confirm('ç¢ºå®šåˆªé™¤æ­¤ç­†ç´€éŒ„ï¼Ÿ(æœƒåŒæ­¥åˆªé™¤å¤§å®¶çš„ç´€éŒ„)')) return;
            const formData = new URLSearchParams(); formData.append('action', 'delete'); formData.append('id', id);
            const originalExpenses = [...expenses]; expenses = expenses.filter(item => item.id != id); renderExpenses();
            try { await fetch(SCRIPT_URL, { method: 'POST', body: formData }); fetchExpenses(); } 
            catch (err) { alert('åˆªé™¤å¤±æ•—ï¼Œè³‡æ–™å°‡é‚„åŸã€‚'); expenses = originalExpenses; renderExpenses(); }
        }

        document.addEventListener('visibilitychange', () => { if (document.visibilityState === 'visible') { fetchBusanWeather(); fetchExpenses(); } });

        async function fetchBusanWeather() {
            const badge = document.getElementById('weather-badge');
            if(badge.innerText.indexOf('â„ƒ') === -1) badge.innerHTML = 'ğŸ‡°ğŸ‡· é‡œå±±å¤©æ°£è¼‰å…¥ä¸­...';
            try {
                const res = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${BUSAN_LAT}&longitude=${BUSAN_LON}&current_weather=true&timezone=Asia%2FSeoul`);
                const data = await res.json();
                badge.innerHTML = `ğŸ‡°ğŸ‡· é‡œå±± ${Math.round(data.current_weather.temperature)}Â°C ${getWeatherEmoji(data.current_weather.weathercode)}`;
            } catch (e) { badge.innerHTML = 'ğŸ‡°ğŸ‡· å¤©æ°£è¼‰å…¥å¤±æ•—'; }
        }

        function getWeatherEmoji(code) {
            if(code===0)return'â˜€ï¸';if(code<=3)return'â˜ï¸';if(code<=48)return'ğŸŒ«ï¸';if(code<=67)return'ğŸŒ§ï¸';if(code<=77)return'â„ï¸';if(code<=82)return'ğŸŒ¦ï¸';if(code>=95)return'â›ˆï¸';return'ğŸŒ¥ï¸';
        }

        function switchView(target, dayId) {
            localStorage.setItem('active_tab', target);
            document.querySelectorAll('.view-container').forEach(el => el.classList.remove('active'));
            document.getElementById('btn-accounting').classList.remove('active');
            document.getElementById('btn-flight').classList.remove('active');
            document.getElementById('day-selector').classList.remove('active');
            document.getElementById('wrapper-itinerary').classList.remove('active');

            if (target === 'accounting') {
                document.getElementById('view-accounting').classList.add('active');
                document.getElementById('btn-accounting').classList.add('active');
                document.getElementById('day-selector').value = "";
                fetchExpenses();
            } else if (target === 'flight') {
                document.getElementById('view-flight').classList.add('active');
                document.getElementById('btn-flight').classList.add('active');
                document.getElementById('day-selector').value = "";
            } else if (target === 'itinerary') {
                if (!dayId) dayId = 'day1';
                document.getElementById('view-itinerary').classList.add('active');
                document.querySelectorAll('.day-schedule').forEach(el => el.classList.remove('active'));
                document.getElementById(dayId + '-content').classList.add('active');
                document.getElementById('day-selector').classList.add('active');
                document.getElementById('wrapper-itinerary').classList.add('active');
                localStorage.setItem('active_day', dayId);
                const dayEl = document.getElementById(dayId + '-content');
                if(dayEl) window.scrollTo({ top: dayEl.offsetTop - 80, behavior: 'smooth' });
            }
        }

        function selectDate(date) { selectedInputDate = date; document.querySelectorAll('.date-chip').forEach(chip => { chip.classList.remove('active'); if(chip.innerText.includes(date)) chip.classList.add('active'); }); document.getElementById('btn-date-label').innerText = date; }
        function selectCategory(cat) { selectedCategory = cat; document.querySelectorAll('.cat-btn').forEach(btn => { btn.classList.remove('active'); if(btn.textContent.includes(cat)) btn.classList.add('active'); }); }

        function renderExpenses() {
            const listEl = document.getElementById('expense-list');
            listEl.innerHTML = ''; let grandTotal = 0; let stats = { 'äº¤é€š':0, 'é£Ÿç‰©':0, 'è³¼ç‰©':0, 'å…¶ä»–':0 };
            
            if (!expenses || expenses.length === 0) {
                listEl.innerHTML = '<div style="text-align:center; color:var(--text-light); padding:30px; opacity:0.8; font-family:var(--font-display); font-size:20px;">ç›®å‰æ²’æœ‰è¨˜å¸³è³‡æ–™<br>å˜—è©¦æ–°å¢ä¸€ç­†å§ï¼</div>';
                updateStats(0, stats); return;
            }

            tripDates.forEach(date => {
                const dailyItems = expenses.filter(item => item.date === date);
                if (dailyItems.length > 0) {
                    const divider = document.createElement('div'); divider.className = 'date-divider'; divider.innerHTML = `${date}`; listEl.appendChild(divider);
                    dailyItems.forEach(item => {
                        grandTotal += parseInt(item.price);
                        if(stats[item.cat] !== undefined) stats[item.cat] += parseInt(item.price); else stats['å…¶ä»–'] += parseInt(item.price);
                        const twd = Math.round(item.price * currentRate);
                        const div = document.createElement('div'); div.className = 'history-item';
                        div.innerHTML = `<div><div class="h-name">${getCatEmoji(item.cat)} ${item.name}</div><div class="h-cat">${item.cat}</div></div><div style="display:flex; align-items:center;"><div><div class="h-price">â‚©${parseInt(item.price).toLocaleString()}</div><span class="h-twd">â‰ˆ NT$ ${twd.toLocaleString()}</span></div><button class="del-btn" onclick="deleteExpense(${item.id})">Ã—</button></div>`;
                        listEl.appendChild(div);
                    });
                }
            });
            updateStats(grandTotal, stats);
        }

        function updateStats(total, stats) {
            document.getElementById('total-krw').textContent = `â‚©${total.toLocaleString()}`;
            document.getElementById('total-twd').textContent = `â‰ˆ NT$ ${Math.round(total * currentRate).toLocaleString()}`;
            document.getElementById('stat-transport').textContent = `â‚©${stats['äº¤é€š'].toLocaleString()}`;
            document.getElementById('stat-food').textContent = `â‚©${stats['é£Ÿç‰©'].toLocaleString()}`;
            document.getElementById('stat-shopping').textContent = `â‚©${stats['è³¼ç‰©'].toLocaleString()}`;
            document.getElementById('stat-other').textContent = `â‚©${stats['å…¶ä»–'].toLocaleString()}`;
        }

        function getCatEmoji(cat) { return (cat==='äº¤é€š'?'ğŸš•':(cat==='é£Ÿç‰©'?'ğŸ”':(cat==='è³¼ç‰©'?'ğŸ›ï¸':'âœ¨'))); }
        function copyToClipboard(text) { navigator.clipboard.writeText(text).then(() => { alert('å·²è¤‡è£½åœ°å€ï¼š' + text); }); }
    </script>
</body>
</html>
